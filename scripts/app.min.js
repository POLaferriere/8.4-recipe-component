require.register("functions",function(e,t,i){"use strict"}),require.register("main",function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t("router"),s=n(r);$(document).ready(function(){new s["default"];Backbone.history.start()})}),require.register("router",function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var r=t("models/recipes/recipe"),s=n(r),a=t("models/recipes/recipe-collection"),c=n(a),d=t("models/ingredients/ingredient"),o=n(d),l=t("models/ingredients/ingredient-collection"),u=n(l),p=t("components/app"),m=n(p),h=Backbone.Router.extend({routes:{"":"index",":id":"recipe"},initialize:function(){this.recipes=new c["default"],this.newRecipe=new s["default"],this.ingredients=new u["default"];var e=new o["default"];this.ingredients.add(e),this.recipeDetail=new s["default"],this.listenTo(this.newRecipe,"change",this.renderApp),this.listenTo(this.ingredients,"add remove update change",this.renderApp),this.listenTo(this.recipes,"add remove update change",this.renderApp)},index:function(){var e=this;this.currentRoute="index",this.recipes.fetch().then(function(t){e.renderApp()})},recipe:function(e){var t=this;this.recipes.fetch().then(function(){t.currentRoute="recipe";var i=t.recipes.find(function(t){return t.get("objectId")===e});t.recipeDetail=i,t.renderApp()})},onNameEdit:function(e,t){this.newRecipe.set(e,t)},onIngredientEdit:function(e){this.ingredients.add(e,{merge:!0})},onAddIngredient:function(){var e=new o["default"];this.ingredients.add(e)},onSubmit:function(e){this.recipes.create({name:e,ingredients:this.ingredients.toJSON()}),this.ingredients.reset();var t=new o["default"];this.ingredients.add(t)},clickName:function(e){this.navigate(this.recipes.find(function(t){return t.get("name")===e}).get("objectId"),{trigger:!0})},renderApp:function(){ReactDOM.render(React.createElement(m["default"],{recipes:this.recipes.toJSON(),newRecipe:this.newRecipe.toJSON(),recipeDetail:this.recipeDetail.toJSON(),ingredients:this.ingredients,route:this.currentRoute,onSubmit:this.onSubmit.bind(this),onIngredientEdit:this.onIngredientEdit,onAddIngredient:this.onAddIngredient,onNameEdit:this.onNameEdit.bind(this),clickName:this.clickName.bind(this)}),document.getElementById("container"))}});e["default"]=h,i.exports=e["default"]}),require.register("components/app",function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var r=t("components/recipe-list"),s=n(r),a=t("components/recipe-form"),c=n(a),d=t("components/recipe-detail"),o=n(d),l=React.createClass({displayName:"App",propTypes:{recipes:React.PropTypes.array.isRequired,newRecipe:React.PropTypes.object.isRequired,ingredients:React.PropTypes.object.isRequired,route:React.PropTypes.string.isRequired,onSubmit:React.PropTypes.func.isRequired,onNameEdit:React.PropTypes.func.isRequired,onIngredientEdit:React.PropTypes.func.isRequired,onAddIngredient:React.PropTypes.func.isRequired,clickName:React.PropTypes.func.isRequired,recipeDetail:React.PropTypes.object.isRequired},render:function(){switch(this.props.route){case"index":return React.createElement("div",null,React.createElement(s["default"],{recipes:this.props.recipes,clickName:this.props.clickName}),React.createElement(c["default"],{onSubmit:this.props.onSubmit,onAddIngredient:this.props.onAddIngredient,newRecipe:this.props.newRecipe,ingredients:this.props.ingredients,onIngredientEdit:this.props.onIngredientEdit,onNameEdit:this.props.onNameEdit}));case"recipe":return React.createElement("div",null,React.createElement(s["default"],{recipes:this.props.recipes,clickName:this.props.clickName}),React.createElement(c["default"],{onSubmit:this.props.onSubmit,onAddIngredient:this.props.onAddIngredient,newRecipe:this.props.newRecipe,ingredients:this.props.ingredients,onIngredientEdit:this.props.onIngredientEdit,onNameEdit:this.props.onNameEdit}),React.createElement(o["default"],{details:this.props.recipeDetail}))}}});e["default"]=l,i.exports=e["default"]}),require.register("components/ingredient-input",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=React.createClass({displayName:"IngredientInput",propTypes:{ingredient:React.PropTypes.object.isRequired,handleIngredientEdit:React.PropTypes.func.isRequired},handleEdit:function(e,t){this.props.ingredient.set(e,t.target.value),this.props.handleIngredientEdit(this.props.ingredient)},render:function(){return React.createElement("div",{className:"ingredient-input"},React.createElement("input",{className:"name",type:"text",placeholder:"ingredient",value:this.props.ingredient.get("name"),onChange:this.handleEdit.bind(this,"name")}),React.createElement("input",{className:"unit",type:"text",placeholder:"unit",value:this.props.ingredient.get("unit"),onChange:this.handleEdit.bind(this,"unit")}),React.createElement("input",{className:"qty",type:"number",placeholder:"qty",value:this.props.ingredient.get("qty"),onChange:this.handleEdit.bind(this,"qty")}))}});e["default"]=n,i.exports=e["default"]}),require.register("components/ingredient",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=React.createClass({displayName:"Ingredient",propTypes:{name:React.PropTypes.string.isRequired,unit:React.PropTypes.string.isRequired,qty:React.PropTypes.number.isRequired},render:function(){return React.createElement("li",null,React.createElement("input",{type:"checkbox"}),React.createElement("p",null,this.props.qty+" "+this.props.unit+" "+this.props.name))}});e["default"]=n,i.exports=e["default"]}),require.register("components/recipe-detail",function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s=t("components/ingredient"),a=n(s),c=React.createClass({displayName:"RecipeDetail",propTypes:{details:React.PropTypes.object.isRequired},getInitialState:function(){return{details:this.props.details,servings:this.props.details.servings,system:"imperial"}},handleServingSubmit:function(e){e.preventDefault();var t=this.refs.servings.value/this.state.servings;this.state.details.ingredients.map(function(e){for(var i in e)"qty"===i&&(e[i]=e[i]*t)}),this.setState({details:this.state.details,servings:this.refs.servings.value})},handleSelectChange:function(e){this.setState({system:e.target.value})},render:function(){return React.createElement("form",{className:"recipe-detail",onSubmit:this.handleServingSubmit},React.createElement("h1",null,this.props.details.name),React.createElement("input",{type:"number",defaultValue:this.state.servings,ref:"servings"}),React.createElement("select",{name:"",id:"",value:this.state.system,onChange:this.handleSelectChange},React.createElement("option",{value:"metric"},"Metric"),React.createElement("option",{value:"imperial"},"Imperial")),React.createElement("ul",null,this.state.details.ingredients.map(function(e,t){return React.createElement(a["default"],r({},e,{key:t}))})))}});e["default"]=c,i.exports=e["default"]}),require.register("components/recipe-form",function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var r=t("components/ingredient-input"),s=n(r),a=t("models/ingredients/ingredient"),c=(n(a),React.createClass({displayName:"RecipeForm",propTypes:{onSubmit:React.PropTypes.func.isRequired,onNameEdit:React.PropTypes.func.isRequired,onIngredientEdit:React.PropTypes.func.isRequired,newRecipe:React.PropTypes.object.isRequired,ingredients:React.PropTypes.object.isRequired},handleSubmit:function(e){e.preventDefault(),this.props.onSubmit(this.refs.name.value),this.refs.name.value=""},handleNameEdit:function(e){this.props.onNameEdit("name",e.target.value)},handleIngredientEdit:function(e){this.props.onIngredientEdit(e)},handleAddIngredient:function(e){e.preventDefault(),this.props.onAddIngredient()},render:function(){var e=this;return React.createElement("form",{action:"",onSubmit:this.handleSubmit,className:"recipe-form"},React.createElement("div",{className:"form-container"},React.createElement("h1",null,"Add a New Recipe"),React.createElement("input",{type:"text",placeholder:"Recipe Name",className:"recipe-name",ref:"name",onChange:this.handleNameEdit}),this.props.ingredients.map(function(t,i){return React.createElement(s["default"],{ingredient:t,handleIngredientEdit:e.handleIngredientEdit,key:i})}),React.createElement("i",{className:"fa fa-plus-square-o",onClick:this.handleAddIngredient}),React.createElement("input",{type:"submit",className:"submit"})))}}));e["default"]=c,i.exports=e["default"]}),require.register("components/recipe-list",function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var r=t("components/ingredient"),s=(n(r),React.createClass({displayName:"RecipeList",propTypes:{recipes:React.PropTypes.array.isRequired,clickName:React.PropTypes.func.isRequired},getInitialState:function(){return{search:""}},handleClick:function(e){this.props.clickName(e.target.textContent)},handleChange:function(e){this.setState({search:e.target.value.trim().toLowerCase()})},handleSearchClick:function(){$(".search-box").toggleClass("active")},handleExpandClick:function(){$(".recipes").toggleClass("expanded"),$(".fa-angle-double-down, .fa-angle-double-up").toggleClass("hidden")},render:function(){var e=this,t=this.props.recipes;return console.log(t),t=t.filter(function(t){return _.any(_.values(t),function(t){return"string"==typeof t&&t.trim().toLowerCase().indexOf(e.state.search)>-1})||_.any(t.ingredients,function(t){return t.name.trim().toLowerCase().indexOf(e.state.search)>-1})}),React.createElement("div",{className:"recipe-list"},React.createElement("ul",{className:"recipes"},_.map(t,function(t){return React.createElement("li",{key:t.objectId,onClick:e.handleClick},React.createElement("h1",null,t.name))})),React.createElement("input",{className:"search-box",type:"text",onKeyUp:this.handleChange,placeholder:"Search recipes or ingredients"}),React.createElement("i",{className:"fa fa-search",onClick:this.handleSearchClick}),React.createElement("i",{className:"fa fa-angle-double-down",onClick:this.handleExpandClick}),React.createElement("i",{className:"fa fa-angle-double-up hidden",onClick:this.handleExpandClick}))}}));e["default"]=s,i.exports=e["default"]}),require.register("models/ingredients/ingredient-collection",function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var r=t("models/ingredients/ingredient"),s=n(r),a=Backbone.Collection.extend({model:s["default"]});e["default"]=a,i.exports=e["default"]}),require.register("models/ingredients/ingredient",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Backbone.Model.extend({defaults:{name:"",unit:"",qty:null}});e["default"]=n,i.exports=e["default"]}),require.register("models/recipes/recipe-collection",function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var r=t("models/recipes/recipe"),s=n(r);$.ajaxSetup({headers:{"X-Parse-Application-ID":"pBJg8JZ9YQbPSJFOOBKeR2DbHTK5wZedUL0WomUo","X-Parse-REST-API-Key":"4zpIfEBIyQ3OGVXo7zzfHkGH8EfKYW9eLU0cKJQ7"}});var a=Backbone.Collection.extend({url:"https://api.parse.com/1/classes/Recipe",model:s["default"],parse:function(e){return e.results}});e["default"]=a,i.exports=e["default"]}),require.register("models/recipes/recipe",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),$.ajaxSetup({headers:{"X-Parse-Application-ID":"pBJg8JZ9YQbPSJFOOBKeR2DbHTK5wZedUL0WomUo","X-Parse-REST-API-Key":"4zpIfEBIyQ3OGVXo7zzfHkGH8EfKYW9eLU0cKJQ7"}});var n=Backbone.Model.extend({urlRoot:"https://api.parse.com/1/classes/Recipe",defaults:{name:"",ingredients:{ingredient:"",unit:"",quantity:0}}});e["default"]=n,i.exports=e["default"]});